<h4>Demo cases</h4>

<ul class="collection">
  <%= for demo <- @demos do %>
    <li class="collection-item">
      <div class="row">
        <div class="col s5">
          <div> 
            <%= link(demo.name, to: Routes.tx_path(@conn, :index, demo_id: demo.id)) %>
          </div>
          <br>
          <div style="font-size: small">
            <%= demo.description %>
          </div>
        </div>

        <div class="col s6">
          <%= if demo.txs != [] do %>
            <ul class="collection">
              <%= for tx <- demo.txs do %>
                <li class="collection-item" style="font-size: smaller"> 
                  <%= tx.name %>
                </li>
              <% end %>
            </ul>
          <% end %>
        </div>
        <div class="col s1"></div>
      </div>

      <div class="row" style="font-size: smaller">
        <div class="col s8"></div>
        <div class="col s2">
          <%= link("Edit", to: Routes.demo_path(@conn, :edit, demo)) %>
        </div>
        <div class="col s2">
          <%= link("Delete", to: Routes.demo_path(@conn, :delete, demo), method: :delete) %>
        </div>
      </div>
    </li>
  <% end %>
</ul>

<br>
<br>

<%= form_for @changeset, Routes.demo_path(@conn, :create), fn f -> %>
  <div class="row">
    <div class="col s6">
      <p>
        <%= text_input f, :name, placeholder: "Demo case name.", class: "form-control" %>
        <%= error_tag f, :name %>
      </p>
    </div>
    <div class="col s6">
      <p>
        <%= text_input f, :subtitle, placeholder: "Subtitle (optional)" %>
      </p>
    </div>
  </div>
  <div class="row">
    <div class="col s12">
      <p>
        <%= text_input f, :description, placeholder: "Description (optional)" %>
      </p>
    </div>
  </div>
  <div class="row">
    <div class="col s6">
      <p>
        <%= text_input f, :icon, placeholder: "Icon url, default value: #{AbtDidWorkshop.Util.config([:app_info, :icon])}" %>
      </p>
    </div>
    <div class="col s6">
      <p>
        <%= text_input f, :path, placeholder: "Deep link path, default value: #{AbtDidWorkshop.Util.config(:deep_link_path)}" %>
      </p>
    </div>
  </div>

  <div class="right">
    <%= submit "Add new Demo case", class: "btn btn-primary" %>
  </div>
<% end %>